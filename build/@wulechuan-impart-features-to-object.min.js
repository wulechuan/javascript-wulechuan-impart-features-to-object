function WulechuanImpartationOperator(){function e(e){return t(e),n(),fe}function t(e){O=e,Ne.setPreferredNaturalLanguageTo(e),ge.setPreferredNaturalLanguageTo(e)}function n(e){for(var t in k)if(t!==e){var n=k[t];delete fe[n]}}function r(e){return{isAFunction:function(){return"function"==typeof e},isNotAFunction:function(){return"function"!=typeof e},isNeitherAnObjectNorAnArray:function(){return!e||"object"!=typeof e},isAValidObject:function(){return!!e&&"object"==typeof e&&!Array.isArray(e)},isNotAValidObject:function(){return!r(e).isAValidObject()},isAnArray:function(){return Array.isArray(e)},isNotAnArray:function(){return!Array.isArray(e)},isAnEmptyString:function(){return!e&&"string"==typeof e},isANonEmptyString:function(){return!!e&&"string"==typeof e},isAValidKey:function(){return r(e).isANonEmptyString()},isNotAValidKey:function(){return!r(e).isAValidKey()}}}function i(e){var t,n,i="Unkown error occurred.";if(e)if("string"==typeof e)i=e;else if("object"==typeof e&&!Array.isArray(e)){var a=e[O];if(r(a).isANonEmptyString())i=a;else for(var o in e)if(a=e[o],r(a).isANonEmptyString()){t=!0,n=o,i=a;break}}if(t&&(i="["+n+"] "+i),U)throw TypeError("\n"+i);console.error(TypeError("\n"+i))}function a(e,t){if(r(e).isAValidObject()&&r(t).isAValidObject())for(var n in t)t[n]&&(e[n]=t[n]);return e}function o(e){r(e).isNeitherAnObjectNorAnArray()?(i({"zh-CN":"首个参数必须为一个非空对象，可以为数组对象。\n而实际提供的首个参数是一个"+typeof e+"。","en-US":"The provided source must be an object that is not a null. An array object is allowed. \nWhat's actually provided was of type: "+typeof e+"."}),ge.abort()):E=e}function u(e){r(e).isNotAFunction()?(i({"zh-CN":"首个参数必须为一个函数。其将被视为一个构造函数以构造一个对象。该对象之属性和方法将被传授给受封者。\n而实际提供的首个参数是一个"+typeof e+"。","en-US":"The provided source must be a function, which will be used as a constructor to create the object to impart to a grantee.\nWhat's actually provided was of type: "+typeof e+"."}),Ne.abort()):(r(F=(z=e)[re]).isNotAValidObject()&&(F={}),d(ie)&&(P=F[ie],V=ie,he=!1,le=!0))}function s(e){T=e}function c(){E=new z(T)}function f(e){d(e)?(P=F[e],V=e,he=!1,le=!1):("string"!=typeof e&&(e=typeof e),i({"zh-CN":"未找到指定的变体。输入参数为：“"+e+"”。","en-US":'The desired profile name was invalid. No profile was matched by that name. \nThe input was "'+e+'".'}),Ne.abort())}function d(e){return!r(e).isNotAValidKey()&&r(F[e]).isAValidObject()}function h(e){if(r(e).isANonEmptyString()){var t={};t[ue]=e,e=t}r(e).isAValidObject()?a(be,e):(Ne.abort(),ge.abort())}function l(e){r(e).isAFunction()&&(I=e)}function b(e){r(e).isAValidObject()?a(pe,e):(Ne.abort(),ge.abort())}function p(e){return r(e).isNeitherAnObjectNorAnArray()?(i({"zh-CN":"受封者必须是一个标准对象或数组，且不可为空对象（null）。","en-US":"The grantee to impart methods and properties to must be an object or an array, and not a null."}),Ne.abort(),void ge.abort()):(x=e,A()?E:void 0)}function A(){return y(),S(),m(),j(),!0}function y(){if(P){if(N(P[ue]),r(I).isAFunction()){var e=P[se];r(e).isAFunction()&&(I=e)}g(V[ae],!0),g(V[oe],!1)}N(be[ue]),delete be[ue],g(be,!0),g(pe,!1)}function N(e){r(e).isAValidKey()&&(K=e)}function g(e,t){var n;if(!r(e).isNotAValidObject()){n=t?Ae:ye;var a,o,u,s,c,f,d,h,l,b;for(a in e)if(!r(a).isNotAValidKey()){if(f="",u=!1,(o=E.hasOwnProperty(a))?f=a:(d=n[a])&&(u=!0,(h=r(d).isAFunction())||(f=d)),s=e[a],c=r(s).isAFunction()){if(u){i({"zh-CN":"名称“"+a+"”"+(h?"已另有函数定义其内容，":"已定义为属性“"+d+"”之别名，")+"不应再以一函数重新定义之。","en-US":'The caption "'+a+'"'+(h?"is already defined via another function, ":'is already mapped to the attribute "'+d+'" as an alias of its, ')+"and should not be redefined."}),Ne.abort(),ge.abort();continue}}else if(!o&&!u){i({"zh-CN":"给定对象或给定类之实例没有名为“"+a+"”的属性;同时也没有此别名。","en-US":"The provided object, or the instance of the provided class doesn't have an attribute named \""+a+'".Nor does an alias match this caption.'}),Ne.abort(),ge.abort();continue}r(s).isNotAnArray()&&(b=[s]);for(var p=0;p<b.length;p++)l=b[p],E.hasOwnProperty(l)?l!==f&&(i({"zh-CN":"所选别名“‘"+l+"”与另一属性重名。","en-US":'The alias "'+l+'" is actually another existing attribute.'}),Ne.abort(),ge.abort()):l===a||(n[l]=c?s:f)}}}function S(){if(!K)return v(),!1;var e={enumerable:!0,get:function(){return E}};r(I).isAFunction()&&(e.set=function(e){I(E,e)}),Object.defineProperty(x,K,e)}function v(){var e='\n\t"'+[M[0],Q[0],Q[1]].join('\n\t"')+'"\n',t="而每欲传授对象至它物，该对象本身作为受封物之属性，亦须定名。请采用以下任意方法函数为其定名："+e,n="Note that an object to impart, as it would be an attribute of the grantee, needs a name itself.\nPlease use any of these methods below to give it a name:"+e;i(he?{"zh-CN":"所给出的“类”没有名为“"+ie+"”的默认变体。程序亦未指定采用其它变体。现欲传授该类之实例对象至它物，其传授后之名称却未知。"+t,"en-US":"The class doesn't have the default profile, which should have been named \""+ie+'". You are allowed not to use the default profile. But... '+n}:le?{"zh-CN":"所给出的“类”的默认变体（即，“"+ie+"”）被采用，但该变体未指明奖被传授之实例对象所应采用之名称。"+t,"en-US":'For the given class, the "'+ie+'" profile is used, while the profile does not provide the attribute name for the instance object. '+n}:{"zh-CN":"行将传授所给出“对象”之属性至它物，其传授后之名称却未知。"+t,"en-US":"The given object is about to impart to the grantee, but the attribute name is not provided yet."+n})}function m(){for(var e in Ae){var t=Ae[e];r(t).isAFunction()?w(E,e,t,null):C(t,e,E)}}function j(){for(var e in ye){var t=ye[e];r(t).isAFunction()?w(x,e,t,E):C(t,e,x)}}function C(e,t,n){var i={enumerable:!0,get:function(){return E[e]}};r(E[e]).isNotAFunction()&&(i.set=function(t){E[e]=t});for(var a=0;a<ce.length;a++)t=t.replace(ce[a],K);Object.defineProperty(n,t,i)}function w(e,t,n,i){r(i).isAValidObject()&&(n=n.bind(i)),e[t]=n}var U,O,z,T,F,V,P,E,I,K,x,W=require("@wulechuan/apply-one-stage-one-method-pattern"),k={"zh-CN":"传授","en-US":"impart"},B=["此对象"],D=["theObject"],G=["此类"],L=["anInstanceOf","anInstanceOfClass"],R=["依据"],$=["withTheseOptions"],q=["之实例","之实例对象","构建之实例","构建之实例对象"],Y=["whenConstructed"],H=["视作"],J=["as","treatAs","usingThisProfile"],M=["且定名为","并添加以下别名"],Q=["nameIt","nameItself","addAliasesForThese","addAliasesForAttributes"],X=["并以此函数为主属性之setter","主属性之赋值器为"],Z=["withASetterForTheChiefProperty","useThisSetterForTheChiefProperty","theChiefPropertySetterBeing"],_=["且为受体设以下直接可用之属性"],ee=["addAttributesDirectlyUnderGrantee"],te=["予"],ne=["to"],re="wulechuanImpartationProfiles",ie="default",ae="attributesAliasesToAdd",oe="attributesToAddDirectlyUnderGrantee",ue="chiefPropertyNameForTheObjectItself",se="chiefPropertySetter",ce=[new RegExp("\\$\\{主名称\\}","g"),new RegExp("\\$\\{[cC]hief[nN]ame\\}","g")],fe=this,de={},he=!0,le=!1,be={},pe={},Ae={},ye={},Ne=function(){var e=new W(fe,O);return e.addStage(u,{"zh-CN":G,"en-US":L}),e.addStage(s,!0,{"zh-CN":R,"en-US":$}),e.addStage(c,{"zh-CN":q,"en-US":Y}),e.addStage(f,!0,{"zh-CN":H,"en-US":J}),e.addStage(h,!0,{"zh-CN":M,"en-US":Q}),e.addStage(l,!0,{"zh-CN":X,"en-US":Z}),e.addStage(b,!0,{"zh-CN":_,"en-US":ee}),e.addStage(p,{"zh-CN":te,"en-US":ne}),e}(),ge=function(){var e=new W(fe,O);return e.addStage(o,{"zh-CN":B,"en-US":D}),e.addStage(h,!0,{"zh-CN":M,"en-US":Q}),Ne.addStage(l,!0,{"zh-CN":X,"en-US":Z}),e.addStage(b,!0,{"zh-CN":_,"en-US":ee}),e.addStage(p,{"zh-CN":te,"en-US":ne}),Ne}();!function(){for(var t in k)de[t]||(de[t]=function(t){return e.bind(fe,t)}(t))}(),function(){for(var e in k){var t=k[e];Object.defineProperty(fe,t,{configurable:!0,enumerable:!0,get:de[e]})}}()}module.exports=WulechuanImpartationOperator;